# API Platform

The API platform provides backend services in multiple languages.

## Available Templates

| Template | Language | Framework | Use Case |
|----------|----------|-----------|----------|
| `api/express` | Node.js | Express | JavaScript/TypeScript APIs |
| `api/go-http` | Go | stdlib | High-performance Go APIs |
| `api/rust-axum` | Rust | Axum | Type-safe, performant APIs |
| `python/fastapi` | Python | FastAPI | Python REST APIs |

## Go HTTP API

Production-ready Go REST API using standard library (no external frameworks).

```bash
gpp add api go-http
```

**Includes:**
- Go 1.22 `net/http` routing
- Structured logging (`slog`)
- Graceful shutdown
- CORS and request logging middleware
- Example CRUD endpoints
- Multi-stage Dockerfile
- Makefile with common targets
- Unit tests

**Prerequisites:** Go 1.22+ or Docker

**Project Structure:**
```
apps/api/
├── cmd/server/main.go      # Entry point
├── internal/api/server.go  # Routes, handlers
├── internal/item/          # Example CRUD
├── pkg/config/config.go    # Configuration
├── Dockerfile
└── Makefile
```

## Express (Node.js)

A Node.js Express application with TypeScript.

```bash
gpp add api express
```

**Includes:**
- Express.js framework
- TypeScript configuration
- Route structure
- Middleware setup

## FastAPI (Python)

For FastAPI applications:

```bash
gpp add python fastapi
```

**Includes:**
- FastAPI framework
- Pydantic models
- SQLAlchemy ORM
- Alembic migrations
- OpenAPI/Swagger docs

## Rust Axum

High-performance Rust API:

```bash
gpp add api rust-axum
```

**Includes:**
- Axum web framework
- Tokio async runtime
- Serde serialization
- Tower middleware

## SaaS Recipes

Full-stack recipes that pair frontends with API backends:

```bash
# Next.js + Go API
gpp init my-app --recipe nextjs-go-postgres

# SvelteKit + Go API
gpp init my-app --recipe sveltekit-go-postgres

# Next.js + FastAPI
gpp init my-app --recipe nextjs-fastapi-postgres
```

## Configuration

API platform scripts in `.gpp/deploy.json`:

```json
{
  "platforms": {
    "api": {
      "variant": "go-http",
      "scripts": {
        "start": "make run",
        "build": "make build"
      }
    }
  }
}
```

## Commands

```bash
# Start development server
gpp start api

# Build for production
gpp build api
```

## Connecting to Web

Use `gpp wire` to connect your API to a web frontend:

```bash
gpp wire api web
```

This generates API clients and configures environment variables.
